{"ast":null,"code":"var _jsxFileName = \"/Users/hyungjuncho/Documents/SNU_BFA/KB_capstone/KB_PB_Agent_AI_JinShiWang/frontend/src/components/market_pipeline/HotArticles.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport titlecloud from \"../../assets/titlecloud.png\";\nimport { fetchMarketHotArticles } from \"../../api/market\";\nimport IndustryArticleList from \"../industry_pipeline/IndustryArticleList\";\nimport ArticleDetailModal from \"../industry_pipeline/ArticleDetailModal\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction HotArticles({\n  year,\n  month,\n  weekStr,\n  period,\n  autoStart\n}) {\n  _s();\n  const [started, setStarted] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [hotArticlesData, setHotArticlesData] = useState(null);\n  const [selectedArticle, setSelectedArticle] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  // period에서 주차 종료일 추출\n  const dateMatch = period.match(/(\\d{2})\\.(\\d{2}) - (\\d{2})\\.(\\d{2})/);\n  let endDate = null;\n  if (dateMatch) {\n    const y = year;\n    endDate = `${y}-${dateMatch[3]}-${dateMatch[4]}`;\n  }\n  const handleArticleClick = article => {\n    setSelectedArticle(article);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setSelectedArticle(null);\n  };\n\n  // 자동 시작 트리거\n  useEffect(() => {\n    if (autoStart) {\n      handleLoadHotArticles();\n    }\n  }, [autoStart, year, month, period]);\n  const handleLoadHotArticles = async () => {\n    setError(\"\");\n    setStarted(true);\n    setLoading(true);\n    setHotArticlesData(null);\n    try {\n      console.log('시장 핫 기사 API 호출', {\n        endDate\n      });\n      const data = await fetchMarketHotArticles(endDate);\n      setHotArticlesData(data);\n      console.log('시장 핫 기사 데이터:', data);\n    } catch (e) {\n      console.error('시장 핫 기사 API 호출 오류:', e);\n      setError('데이터를 불러오지 못했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleStartReport = () => {\n    handleLoadHotArticles();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!started && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"report-start-btn\",\n      onClick: handleStartReport,\n      children: \"\\uC774 \\uC8FC \\uD56B\\uD55C \\uAE30\\uC0AC TOP 3 \\uBCF4\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), started && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pipeline-title\",\n        children: (() => {\n          // period 예시: '05.13 - 05.19 (3주차)'\n          const monthMatch = period.match(/(\\d{2})\\./);\n          const weekMatch = period.match(/\\((\\d+주차)\\)/);\n          const month = monthMatch ? parseInt(monthMatch[1], 10) : month;\n          const week = weekMatch ? weekMatch[1] : '';\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: titlecloud,\n              alt: \"cloud\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 24\n            }, this), month, \"\\uC6D4 \", week, \" \\uD575\\uC2EC \\uB274\\uC2A4\"]\n          }, void 0, true);\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"industry-top3-section\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"industry-top3-loading\",\n          children: \"AI\\uAC00 \\uC2DC\\uC7A5 \\uD2B8\\uB80C\\uB4DC\\uB97C \\uBD84\\uC11D\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"industry-top3-error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this) : hotArticlesData && hotArticlesData.top3_articles && hotArticlesData.top3_articles.length > 0 ? /*#__PURE__*/_jsxDEV(IndustryArticleList, {\n          articles: hotArticlesData.top3_articles,\n          onArticleClick: handleArticleClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"industry-top3-nodata\",\n          children: \"\\uD574\\uB2F9 \\uAE30\\uAC04\\uC758 \\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ArticleDetailModal, {\n        article: showModal && selectedArticle,\n        onClose: closeModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(HotArticles, \"CJp+fYJ7OICZp1R+jDiGhnWN3Qs=\");\n_c = HotArticles;\nexport default HotArticles;\nvar _c;\n$RefreshReg$(_c, \"HotArticles\");","map":{"version":3,"names":["React","useState","useEffect","titlecloud","fetchMarketHotArticles","IndustryArticleList","ArticleDetailModal","jsxDEV","_jsxDEV","Fragment","_Fragment","HotArticles","year","month","weekStr","period","autoStart","_s","started","setStarted","error","setError","loading","setLoading","hotArticlesData","setHotArticlesData","selectedArticle","setSelectedArticle","showModal","setShowModal","dateMatch","match","endDate","y","handleArticleClick","article","closeModal","handleLoadHotArticles","console","log","data","e","handleStartReport","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","monthMatch","weekMatch","parseInt","week","src","alt","top3_articles","length","articles","onArticleClick","onClose","_c","$RefreshReg$"],"sources":["/Users/hyungjuncho/Documents/SNU_BFA/KB_capstone/KB_PB_Agent_AI_JinShiWang/frontend/src/components/market_pipeline/HotArticles.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport titlecloud from \"../../assets/titlecloud.png\";\nimport { fetchMarketHotArticles } from \"../../api/market\";\nimport IndustryArticleList from \"../industry_pipeline/IndustryArticleList\";\nimport ArticleDetailModal from \"../industry_pipeline/ArticleDetailModal\";\n\nfunction HotArticles({ year, month, weekStr, period, autoStart }) {\n  const [started, setStarted] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [hotArticlesData, setHotArticlesData] = useState(null);\n  const [selectedArticle, setSelectedArticle] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  \n  // period에서 주차 종료일 추출\n  const dateMatch = period.match(/(\\d{2})\\.(\\d{2}) - (\\d{2})\\.(\\d{2})/);\n  let endDate = null;\n  if (dateMatch) {\n    const y = year;\n    endDate = `${y}-${dateMatch[3]}-${dateMatch[4]}`;\n  }\n\n  const handleArticleClick = (article) => {\n    setSelectedArticle(article);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setSelectedArticle(null);\n  };\n\n  // 자동 시작 트리거\n  useEffect(() => {\n    if (autoStart) {\n      handleLoadHotArticles();\n    }\n  }, [autoStart, year, month, period]);\n\n  const handleLoadHotArticles = async () => {\n    setError(\"\");\n    setStarted(true);\n    setLoading(true);\n    setHotArticlesData(null);\n    \n    try {\n      console.log('시장 핫 기사 API 호출', { endDate });\n      const data = await fetchMarketHotArticles(endDate);\n      setHotArticlesData(data);\n      console.log('시장 핫 기사 데이터:', data);\n    } catch (e) {\n      console.error('시장 핫 기사 API 호출 오류:', e);\n      setError('데이터를 불러오지 못했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleStartReport = () => {\n    handleLoadHotArticles();\n  };\n\n  return (\n    <div>\n      {!started && (\n        <button\n          className=\"report-start-btn\"\n          onClick={handleStartReport}\n        >\n          이 주 핫한 기사 TOP 3 보기\n        </button>\n      )}\n      {started && (\n        <>\n          <div className=\"pipeline-title\">\n            {/* 동적으로 월/주차 추출하여 제목 생성 */}\n            {(() => {\n              // period 예시: '05.13 - 05.19 (3주차)'\n              const monthMatch = period.match(/(\\d{2})\\./);\n              const weekMatch = period.match(/\\((\\d+주차)\\)/);\n              const month = monthMatch ? parseInt(monthMatch[1], 10) : month;\n              const week = weekMatch ? weekMatch[1] : '';\n              return <><img src={titlecloud} alt=\"cloud\" />{month}월 {week} 핵심 뉴스</>;\n            })()}\n          </div>\n          {/* 전 주에 핫한 기사 Top 3 섹션 */}\n          <div className=\"industry-top3-section\">\n            {loading ? (\n              <div className=\"industry-top3-loading\">\n                AI가 시장 트렌드를 분석하고 있습니다...\n              </div>\n            ) : error ? (\n              <div className=\"industry-top3-error\">\n                {error}\n              </div>\n            ) : hotArticlesData && hotArticlesData.top3_articles && hotArticlesData.top3_articles.length > 0 ? (\n              <IndustryArticleList articles={hotArticlesData.top3_articles} onArticleClick={handleArticleClick} />\n            ) : (\n              <div className=\"industry-top3-nodata\">\n                해당 기간의 데이터가 없습니다.\n              </div>\n            )}\n          </div>\n          \n          {/* 기사 상세 모달 */}\n          <ArticleDetailModal article={showModal && selectedArticle} onClose={closeModal} />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default HotArticles;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}